<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="estilo.css">
    <title>SneakerBoutique</title>
</head>
<body>
    <div class="contenedor">
        <header>
            <div class="logo-titulo">
                <a href="index.php">
                    <i class="fa-regular fa-circle-dot"></i>
                    <h1>SneakerBoutique</h1>
                </a>
            </div>
            <nav id="nav">
                <a href="dashboard.html" class="selected">Inicio</a>
                <a href="tienda.php" >Productos</a>
                <a href="administradores.html">Administradores</a>
                <a href="usuarios.html">Usuarios</a>
                <span id="close-responsive">
                    <i class="fa-solid fa-xmark"></i>
                </span>
            </nav>
            <div id="nav-responsive">
                <i class="fa-solid fa-bars"></i>
            </div>
            <div class="carrito">
                </a>
            </div>
        </header>

        <section class="contenedor-seccion">
            <div class="fondo-seccion"></div>
            <div class="header-seccion">
                <div class="col">
                    <strong><span class="link-blanco">Administrador</span> / Inicio</strong>
                </div>
                <div class="centro">
                    <h2>Administrador</h2>
                </div>
            </div>
            
            <section class="detalle-producto">
                <div class="fila">
                    <section class="add-products">

                        <h1 class="heading">add product</h1>
                     
                        <form action="" method="post" enctype="multipart/form-data">
                           <div class="flex">
                              <div class="inputBox">
                                 <span>Nombre del tenis</span>
                                 <input type="text" class="box" required maxlength="100" placeholder="enter product name" name="name">
                              </div>
                              <div class="inputBox">
                                 <span>Precio</span>
                                 <input type="number" min="0" class="box" required max="9999999999" placeholder="enter product price" onkeypress="if(this.value.length == 10) return false;" name="price">
                              </div>
                             <div class="inputBox">
                                 <span>Imagen 1</span>
                                 <input type="file" name="image_01" accept="image/jpg, image/jpeg, image/png, image/webp" class="box" required>
                             </div>
                             <div class="inputBox">
                                 <span>Imagen 2</span>
                                 <input type="file" name="image_02" accept="image/jpg, image/jpeg, image/png, image/webp" class="box" required>
                             </div>
                             <div class="inputBox">
                                 <span>Imagen 3</span>
                                 <input type="file" name="image_03" accept="image/jpg, image/jpeg, image/png, image/webp" class="box" required>
                             </div>
                              <div class="inputBox">
                                 <span>Descripcion del par</span>
                                 <textarea name="details" placeholder="enter product details" class="box" required maxlength="500" cols="30" rows="10"></textarea>
                              </div>
                           </div>
                           
                           <input type="submit" value="add product" class="btn" name="add_product">
                        </form>
                     
                     </section>
                </div>
            </section>

            <h2 class="subtitulo-seccion">Productos agregados</h2>
            
            <section id="productos" class="productos">
                <section class="show-products">

                    <h1 class="heading">products added</h1>
                 
                    <div class="box-container">
                 
                    <?php
                       $select_products = $conn->prepare("SELECT * FROM `products`");
                       $select_products->execute();
                       if($select_products->rowCount() > 0){
                          while($fetch_products = $select_products->fetch(PDO::FETCH_ASSOC)){ 
                    ?>
                    <div class="box">
                       <img src="../uploaded_img/<?= $fetch_products['image_01']; ?>" alt="">
                       <div class="name"><?= $fetch_products['name']; ?></div>
                       <div class="price">$<span><?= $fetch_products['price']; ?></span>/-</div>
                       <div class="details"><span><?= $fetch_products['details']; ?></span></div>
                       <div class="flex-btn">
                          <a href="update_product.php?update=<?= $fetch_products['id']; ?>" class="option-btn">update</a>
                          <a href="products.php?delete=<?= $fetch_products['id']; ?>" class="delete-btn" onclick="return confirm('delete this product?');">delete</a>
                       </div>
                    </div>
                    <?php
                          }
                       }else{
                          echo '<p class="empty">no products added yet!</p>';
                       }
                    ?>
                    
                    </div>
                 
                 </section>
            </section>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>